<project name="Map test" default="test" basedir=".">

	<import><javaresource name="com/anttoolkit/anttoolkit.xml"/></import>

	<target name="test">

		<generalInitMap name="testMap" file="test_map.txt">
			<entry key="aaa" value="bbb"/>
			<entry key="aaa1" value="bbb2"/>
			<entry key="aaa2" value="bbb2"/>
		</generalInitMap>

		<generalGetMapElement map="testMap" key="aaa" property="value"/>
		<echo>${value}</echo>

		<generalGetMapElement map="testMap" key="HELLO" property="value" default="111"/>
		<echo>DEFAULT=${value}</echo>


		<generalPutMapElement map="testMap" key="QWERTY" value="1234567890"/>

		<generalGetRandomMapElement map="testMap" keyProperty="key" valueProperty="value"/>
		<echo>Random element - ${key}:${value}</echo>

		<generalCheckMapContainsKey map="testMap" key="MMMMMM" property="containsKey"/>
		<echo>Contains key "MMMMMM" - ${containsKey}</echo>

		<generalCheckMapContainsKey map="testMap" key="aaa" property="containsKey"/>
		<echo>Contains key "aaa" - ${containsKey}</echo>

		<echo>Printing map</echo>
		<generalRemoveMapElement map="testMap" key="aaa"/>
		<generalMapLoop map="testMap" keyProperty="key" valueProperty="value">
			<echo>${key}:${value}</echo>
		</generalMapLoop>

		<echo>Testing map serialization</echo>

		<generalSerializeMap map="testMap" file="aaa.txt"/>

		<generalInitMap name="testMap1" file="aaa.txt"/>

		<echo>Printing map</echo>

		<generalMapLoop map="testMap1" keyProperty="key" valueProperty="value">
			<echo>${key}:${value}</echo>
		</generalMapLoop>
	</target>

</project>